import{j as i}from"./jsx-runtime-gfuiFmrk.js";import{r as t}from"./index-B3ehnkiM.js";import{_ as $}from"./index-BtW3vQL8.js";import{$ as h}from"./index-gzTY19Q4.js";import{$ as L}from"./index-BkVs4Xdz.js";import{$ as p}from"./index-CiqPuP9r.js";import{$ as l}from"./index-C10IWUuP.js";import{a as m}from"./utils-DJk2kaG7.js";const b="Avatar",[I,V]=h(b),[N,g]=I(b),E=t.forwardRef((e,o)=>{const{__scopeAvatar:a,...r}=e,[c,s]=t.useState("idle");return t.createElement(N,{scope:a,imageLoadingStatus:c,onImageLoadingStatusChange:s},t.createElement(l.span,$({},r,{ref:o})))}),R="AvatarImage",y=t.forwardRef((e,o)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:c=()=>{},...s}=e,n=g(R,a),d=j(r),f=L(u=>{c(u),n.onImageLoadingStatusChange(u)});return p(()=>{d!=="idle"&&f(d)},[d,f]),d==="loaded"?t.createElement(l.img,$({},s,{ref:o,src:r})):null}),C="AvatarFallback",M=t.forwardRef((e,o)=>{const{__scopeAvatar:a,delayMs:r,...c}=e,s=g(C,a),[n,d]=t.useState(r===void 0);return t.useEffect(()=>{if(r!==void 0){const f=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(f)}},[r]),n&&s.imageLoadingStatus!=="loaded"?t.createElement(l.span,$({},c,{ref:o})):null});function j(e){const[o,a]=t.useState("idle");return p(()=>{if(!e){a("error");return}let r=!0;const c=new window.Image,s=n=>()=>{r&&a(n)};return a("loading"),c.onload=s("loaded"),c.onerror=s("error"),c.src=e,()=>{r=!1}},[e]),o}const v=E,x=y,A=M,_=t.forwardRef(({className:e,...o},a)=>i.jsx(v,{ref:a,className:m("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...o}));_.displayName=v.displayName;const w=t.forwardRef(({className:e,...o},a)=>i.jsx(x,{ref:a,className:m("aspect-square h-full w-full",e),...o}));w.displayName=x.displayName;const S=t.forwardRef(({className:e,...o},a)=>i.jsx(A,{ref:a,className:m("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...o}));S.displayName=A.displayName;_.__docgenInfo={description:"",methods:[]};w.__docgenInfo={description:"",methods:[]};S.__docgenInfo={description:"",methods:[]};export{_ as A,w as a,S as b};
