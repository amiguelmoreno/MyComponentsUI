import{_,$ as k,b as De,a as ke}from"./index-BtW3vQL8.js";import{r as t}from"./index-B3ehnkiM.js";import{$ as v}from"./index-CcyUcsxs.js";import{$ as Fe}from"./index-CUKvRgbG.js";import{$ as Ae}from"./index-gzTY19Q4.js";import{$ as Ke}from"./index-DWbqV_Lf.js";import{$ as Le}from"./index-CzXEFAbz.js";import{h as Ge,$ as Ne,a as Ue,b as Ve}from"./index-pXUiMtXY.js";import{$ as de}from"./index-DsPCPAgU.js";import{$ as fe,a as Be,b as Ye,c as $e}from"./index-BgrccdF7.js";import{$ as Xe}from"./index-XB13z7cY.js";import{$ as X}from"./index-DK5DHDD6.js";import{$ as F,a as je}from"./index-C10IWUuP.js";import{$ as pe,a as We,b as ze}from"./index-DgCCy1hh.js";import{$ as Q}from"./index-BkVs4Xdz.js";const q=["Enter"," "],He=["ArrowDown","PageUp","Home"],me=["ArrowUp","PageDown","End"],Ze=[...He,...me],qe={ltr:[...q,"ArrowRight"],rtl:[...q,"ArrowLeft"]},Je={ltr:["ArrowLeft"],rtl:["ArrowRight"]},j="Menu",[y,Qe,et]=Fe(j),[P,jt]=Ae(j,[et,fe,pe]),W=fe(),be=pe(),[ve,x]=P(j),[tt,A]=P(j),nt=e=>{const{__scopeMenu:c,open:n=!1,children:o,dir:s,onOpenChange:r,modal:i=!0}=e,$=W(c),[p,m]=t.useState(null),d=t.useRef(!1),a=Q(r),l=Ke(s);return t.useEffect(()=>{const f=()=>{d.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>d.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),t.createElement($e,$,t.createElement(ve,{scope:c,open:n,onOpenChange:a,content:p,onContentChange:m},t.createElement(tt,{scope:c,onClose:t.useCallback(()=>a(!1),[a]),isUsingKeyboardRef:d,dir:l,modal:i},o)))},_e=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e,s=W(n);return t.createElement(Be,_({},s,o,{ref:c}))}),ge="MenuPortal",[ct,Ee]=P(ge,{forceMount:void 0}),ot=e=>{const{__scopeMenu:c,forceMount:n,children:o,container:s}=e,r=x(ge,c);return t.createElement(ct,{scope:c,forceMount:n},t.createElement(X,{present:n||r.open},t.createElement(Xe,{asChild:!0,container:s},o)))},C="MenuContent",[rt,ee]=P(C),at=t.forwardRef((e,c)=>{const n=Ee(C,e.__scopeMenu),{forceMount:o=n.forceMount,...s}=e,r=x(C,e.__scopeMenu),i=A(C,e.__scopeMenu);return t.createElement(y.Provider,{scope:e.__scopeMenu},t.createElement(X,{present:o||r.open},t.createElement(y.Slot,{scope:e.__scopeMenu},i.modal?t.createElement(st,_({},s,{ref:c})):t.createElement(ut,_({},s,{ref:c})))))}),st=t.forwardRef((e,c)=>{const n=x(C,e.__scopeMenu),o=t.useRef(null),s=k(c,o);return t.useEffect(()=>{const r=o.current;if(r)return Ge(r)},[]),t.createElement(te,_({},e,{ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:v(e.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)}))}),ut=t.forwardRef((e,c)=>{const n=x(C,e.__scopeMenu);return t.createElement(te,_({},e,{ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)}))}),te=t.forwardRef((e,c)=>{const{__scopeMenu:n,loop:o=!1,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:i,disableOutsidePointerEvents:$,onEntryFocus:p,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:a,onInteractOutside:l,onDismiss:f,disableOutsideScroll:b,...E}=e,w=x(C,n),S=A(C,n),K=W(n),L=be(n),oe=Qe(n),[we,re]=t.useState(null),G=t.useRef(null),Ie=k(c,G,w.onContentChange),N=t.useRef(0),U=t.useRef(""),Se=t.useRef(0),z=t.useRef(null),ae=t.useRef("right"),H=t.useRef(0),Te=b?Ve:t.Fragment,Oe=b?{as:ke,allowPinchZoom:!0}:void 0,ye=u=>{var g,h;const R=U.current+u,T=oe().filter(M=>!M.disabled),Z=document.activeElement,se=(g=T.find(M=>M.ref.current===Z))===null||g===void 0?void 0:g.textValue,V=T.map(M=>M.textValue),O=It(V,R,se),ue=(h=T.find(M=>M.textValue===O))===null||h===void 0?void 0:h.ref.current;(function M(ie){U.current=ie,window.clearTimeout(N.current),ie!==""&&(N.current=window.setTimeout(()=>M(""),1e3))})(R),ue&&setTimeout(()=>ue.focus())};t.useEffect(()=>()=>window.clearTimeout(N.current),[]),Ne();const I=t.useCallback(u=>{var g,h;return ae.current===((g=z.current)===null||g===void 0?void 0:g.side)&&Tt(u,(h=z.current)===null||h===void 0?void 0:h.area)},[]);return t.createElement(rt,{scope:n,searchRef:U,onItemEnter:t.useCallback(u=>{I(u)&&u.preventDefault()},[I]),onItemLeave:t.useCallback(u=>{var g;I(u)||((g=G.current)===null||g===void 0||g.focus(),re(null))},[I]),onTriggerLeave:t.useCallback(u=>{I(u)&&u.preventDefault()},[I]),pointerGraceTimerRef:Se,onPointerGraceIntentChange:t.useCallback(u=>{z.current=u},[])},t.createElement(Te,Oe,t.createElement(Ue,{asChild:!0,trapped:s,onMountAutoFocus:v(r,u=>{var g;u.preventDefault(),(g=G.current)===null||g===void 0||g.focus()}),onUnmountAutoFocus:i},t.createElement(Le,{asChild:!0,disableOutsidePointerEvents:$,onEscapeKeyDown:m,onPointerDownOutside:d,onFocusOutside:a,onInteractOutside:l,onDismiss:f},t.createElement(We,_({asChild:!0},L,{dir:S.dir,orientation:"vertical",loop:o,currentTabStopId:we,onCurrentTabStopIdChange:re,onEntryFocus:v(p,u=>{S.isUsingKeyboardRef.current||u.preventDefault()})}),t.createElement(Ye,_({role:"menu","aria-orientation":"vertical","data-state":Pe(w.open),"data-radix-menu-content":"",dir:S.dir},K,E,{ref:Ie,style:{outline:"none",...E.style},onKeyDown:v(E.onKeyDown,u=>{const h=u.target.closest("[data-radix-menu-content]")===u.currentTarget,R=u.ctrlKey||u.altKey||u.metaKey,T=u.key.length===1;h&&(u.key==="Tab"&&u.preventDefault(),!R&&T&&ye(u.key));const Z=G.current;if(u.target!==Z||!Ze.includes(u.key))return;u.preventDefault();const V=oe().filter(O=>!O.disabled).map(O=>O.ref.current);me.includes(u.key)&&V.reverse(),Pt(V)}),onBlur:v(e.onBlur,u=>{u.currentTarget.contains(u.target)||(window.clearTimeout(N.current),U.current="")}),onPointerMove:v(e.onPointerMove,D(u=>{const g=u.target,h=H.current!==u.clientX;if(u.currentTarget.contains(g)&&h){const R=u.clientX>H.current?"right":"left";ae.current=R,H.current=u.clientX}}))})))))))}),it=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e;return t.createElement(F.div,_({role:"group"},o,{ref:c}))}),dt=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e;return t.createElement(F.div,_({},o,{ref:c}))}),J="MenuItem",le="menu.itemSelect",ne=t.forwardRef((e,c)=>{const{disabled:n=!1,onSelect:o,...s}=e,r=t.useRef(null),i=A(J,e.__scopeMenu),$=ee(J,e.__scopeMenu),p=k(c,r),m=t.useRef(!1),d=()=>{const a=r.current;if(!n&&a){const l=new CustomEvent(le,{bubbles:!0,cancelable:!0});a.addEventListener(le,f=>o==null?void 0:o(f),{once:!0}),je(a,l),l.defaultPrevented?m.current=!1:i.onClose()}};return t.createElement(he,_({},s,{ref:p,disabled:n,onClick:v(e.onClick,d),onPointerDown:a=>{var l;(l=e.onPointerDown)===null||l===void 0||l.call(e,a),m.current=!0},onPointerUp:v(e.onPointerUp,a=>{var l;m.current||(l=a.currentTarget)===null||l===void 0||l.click()}),onKeyDown:v(e.onKeyDown,a=>{const l=$.searchRef.current!=="";n||l&&a.key===" "||q.includes(a.key)&&(a.currentTarget.click(),a.preventDefault())})}))}),he=t.forwardRef((e,c)=>{const{__scopeMenu:n,disabled:o=!1,textValue:s,...r}=e,i=ee(J,n),$=be(n),p=t.useRef(null),m=k(c,p),[d,a]=t.useState(!1),[l,f]=t.useState("");return t.useEffect(()=>{const b=p.current;if(b){var E;f(((E=b.textContent)!==null&&E!==void 0?E:"").trim())}},[r.children]),t.createElement(y.ItemSlot,{scope:n,disabled:o,textValue:s??l},t.createElement(ze,_({asChild:!0},$,{focusable:!o}),t.createElement(F.div,_({role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0},r,{ref:m,onPointerMove:v(e.onPointerMove,D(b=>{o?i.onItemLeave(b):(i.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus())})),onPointerLeave:v(e.onPointerLeave,D(b=>i.onItemLeave(b))),onFocus:v(e.onFocus,()=>a(!0)),onBlur:v(e.onBlur,()=>a(!1))}))))}),lt=t.forwardRef((e,c)=>{const{checked:n=!1,onCheckedChange:o,...s}=e;return t.createElement(Me,{scope:e.__scopeMenu,checked:n},t.createElement(ne,_({role:"menuitemcheckbox","aria-checked":Y(n)?"mixed":n},s,{ref:c,"data-state":ce(n),onSelect:v(s.onSelect,()=>o==null?void 0:o(Y(n)?!0:!n),{checkForDefaultPrevented:!1})})))}),ft="MenuRadioGroup",[$t,pt]=P(ft,{value:void 0,onValueChange:()=>{}}),mt=t.forwardRef((e,c)=>{const{value:n,onValueChange:o,...s}=e,r=Q(o);return t.createElement($t,{scope:e.__scopeMenu,value:n,onValueChange:r},t.createElement(it,_({},s,{ref:c})))}),bt="MenuRadioItem",vt=t.forwardRef((e,c)=>{const{value:n,...o}=e,s=pt(bt,e.__scopeMenu),r=n===s.value;return t.createElement(Me,{scope:e.__scopeMenu,checked:r},t.createElement(ne,_({role:"menuitemradio","aria-checked":r},o,{ref:c,"data-state":ce(r),onSelect:v(o.onSelect,()=>{var i;return(i=s.onValueChange)===null||i===void 0?void 0:i.call(s,n)},{checkForDefaultPrevented:!1})})))}),Ce="MenuItemIndicator",[Me,_t]=P(Ce,{checked:!1}),gt=t.forwardRef((e,c)=>{const{__scopeMenu:n,forceMount:o,...s}=e,r=_t(Ce,n);return t.createElement(X,{present:o||Y(r.checked)||r.checked===!0},t.createElement(F.span,_({},s,{ref:c,"data-state":ce(r.checked)})))}),Et=t.forwardRef((e,c)=>{const{__scopeMenu:n,...o}=e;return t.createElement(F.div,_({role:"separator","aria-orientation":"horizontal"},o,{ref:c}))}),xe="MenuSub",[ht,Re]=P(xe),Ct=e=>{const{__scopeMenu:c,children:n,open:o=!1,onOpenChange:s}=e,r=x(xe,c),i=W(c),[$,p]=t.useState(null),[m,d]=t.useState(null),a=Q(s);return t.useEffect(()=>(r.open===!1&&a(!1),()=>a(!1)),[r.open,a]),t.createElement($e,i,t.createElement(ve,{scope:c,open:o,onOpenChange:a,content:m,onContentChange:d},t.createElement(ht,{scope:c,contentId:de(),triggerId:de(),trigger:$,onTriggerChange:p},n)))},B="MenuSubTrigger",Mt=t.forwardRef((e,c)=>{const n=x(B,e.__scopeMenu),o=A(B,e.__scopeMenu),s=Re(B,e.__scopeMenu),r=ee(B,e.__scopeMenu),i=t.useRef(null),{pointerGraceTimerRef:$,onPointerGraceIntentChange:p}=r,m={__scopeMenu:e.__scopeMenu},d=t.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return t.useEffect(()=>d,[d]),t.useEffect(()=>{const a=$.current;return()=>{window.clearTimeout(a),p(null)}},[$,p]),t.createElement(_e,_({asChild:!0},m),t.createElement(he,_({id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":Pe(n.open)},e,{ref:De(c,s.onTriggerChange),onClick:a=>{var l;(l=e.onClick)===null||l===void 0||l.call(e,a),!(e.disabled||a.defaultPrevented)&&(a.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:v(e.onPointerMove,D(a=>{r.onItemEnter(a),!a.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(r.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:v(e.onPointerLeave,D(a=>{var l;d();const f=(l=n.content)===null||l===void 0?void 0:l.getBoundingClientRect();if(f){var b;const E=(b=n.content)===null||b===void 0?void 0:b.dataset.side,w=E==="right",S=w?-5:5,K=f[w?"left":"right"],L=f[w?"right":"left"];r.onPointerGraceIntentChange({area:[{x:a.clientX+S,y:a.clientY},{x:K,y:f.top},{x:L,y:f.top},{x:L,y:f.bottom},{x:K,y:f.bottom}],side:E}),window.clearTimeout($.current),$.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(a),a.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:v(e.onKeyDown,a=>{const l=r.searchRef.current!=="";if(!(e.disabled||l&&a.key===" ")&&qe[o.dir].includes(a.key)){var f;n.onOpenChange(!0),(f=n.content)===null||f===void 0||f.focus(),a.preventDefault()}})})))}),xt="MenuSubContent",Rt=t.forwardRef((e,c)=>{const n=Ee(C,e.__scopeMenu),{forceMount:o=n.forceMount,...s}=e,r=x(C,e.__scopeMenu),i=A(C,e.__scopeMenu),$=Re(xt,e.__scopeMenu),p=t.useRef(null),m=k(c,p);return t.createElement(y.Provider,{scope:e.__scopeMenu},t.createElement(X,{present:o||r.open},t.createElement(y.Slot,{scope:e.__scopeMenu},t.createElement(te,_({id:$.contentId,"aria-labelledby":$.triggerId},s,{ref:m,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var a;i.isUsingKeyboardRef.current&&((a=p.current)===null||a===void 0||a.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:v(e.onFocusOutside,d=>{d.target!==$.trigger&&r.onOpenChange(!1)}),onEscapeKeyDown:v(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:v(e.onKeyDown,d=>{const a=d.currentTarget.contains(d.target),l=Je[i.dir].includes(d.key);if(a&&l){var f;r.onOpenChange(!1),(f=$.trigger)===null||f===void 0||f.focus(),d.preventDefault()}})})))))});function Pe(e){return e?"open":"closed"}function Y(e){return e==="indeterminate"}function ce(e){return Y(e)?"indeterminate":e?"checked":"unchecked"}function Pt(e){const c=document.activeElement;for(const n of e)if(n===c||(n.focus(),document.activeElement!==c))return}function wt(e,c){return e.map((n,o)=>e[(c+o)%e.length])}function It(e,c,n){const s=c.length>1&&Array.from(c).every(m=>m===c[0])?c[0]:c,r=n?e.indexOf(n):-1;let i=wt(e,Math.max(r,0));s.length===1&&(i=i.filter(m=>m!==n));const p=i.find(m=>m.toLowerCase().startsWith(s.toLowerCase()));return p!==n?p:void 0}function St(e,c){const{x:n,y:o}=e;let s=!1;for(let r=0,i=c.length-1;r<c.length;i=r++){const $=c[r].x,p=c[r].y,m=c[i].x,d=c[i].y;p>o!=d>o&&n<(m-$)*(o-p)/(d-p)+$&&(s=!s)}return s}function Tt(e,c){if(!c)return!1;const n={x:e.clientX,y:e.clientY};return St(n,c)}function D(e){return c=>c.pointerType==="mouse"?e(c):void 0}const Wt=nt,zt=_e,Ht=ot,Zt=at,qt=dt,Jt=ne,Qt=lt,en=mt,tn=vt,nn=gt,cn=Et,on=Ct,rn=Mt,an=Rt;export{jt as $,Ht as a,Zt as b,qt as c,Jt as d,Qt as e,tn as f,nn as g,cn as h,rn as i,an as j,Wt as k,zt as l,en as m,on as n};
