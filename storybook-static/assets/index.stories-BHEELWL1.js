import{j as I}from"./jsx-runtime-gfuiFmrk.js";import{r as a}from"./index-B3ehnkiM.js";import{$ as C,_ as y}from"./index-BtW3vQL8.js";import{$ as Q}from"./index-BEk9yI-S.js";import{$ as R}from"./index-CcyUcsxs.js";import{$ as ue}from"./index-gzTY19Q4.js";import{$ as me}from"./index-DD6JRj2r.js";import{$ as $e}from"./index-DWbqV_Lf.js";import{$ as pe}from"./index-DTfEcMay.js";import{$ as Se}from"./index-e03L_g6a.js";import{$ as k}from"./index-C10IWUuP.js";import{$ as be}from"./index-CUKvRgbG.js";import{a as ve}from"./utils-DJk2kaG7.js";const Z=["PageUp","PageDown"],ee=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],te={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},T="Slider",[H,ge,he]=be(T),[ne,ot]=ue(T,[he]),[xe,N]=ne(T),we=a.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:o=1,orientation:l="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:$=[r],value:S,onValueChange:i=()=>{},onValueCommit:d=()=>{},inverted:x=!1,...v}=e,[p,b]=a.useState(null),w=C(t,m=>b(m)),D=a.useRef(new Set),f=a.useRef(0),E=l==="horizontal",M=p?!!p.closest("form"):!0,L=E?Ee:ye,[g=[],ce]=me({prop:S,defaultProp:$,onChange:m=>{var h;(h=[...D.current][f.current])===null||h===void 0||h.focus(),i(m)}}),F=a.useRef(g);function le(m){const h=Ie(g,m);K(m,h)}function de(m){K(m,f.current)}function fe(){const m=F.current[f.current];g[f.current]!==m&&d(g)}function K(m,h,{commit:B}={commit:!1}){const U=ke(o),z=Ne(Math.round((m-r)/o)*o+r,U),V=Q(z,[r,s]);ce((P=[])=>{const _=Ke(P,V,h);if(Be(_,u*o)){f.current=_.indexOf(V);const Y=String(_)!==String(P);return Y&&B&&d(_),Y?_:P}else return P})}return a.createElement(xe,{scope:e.__scopeSlider,disabled:c,min:r,max:s,valueIndexToChangeRef:f,thumbs:D.current,values:g,orientation:l},a.createElement(H.Provider,{scope:e.__scopeSlider},a.createElement(H.Slot,{scope:e.__scopeSlider},a.createElement(L,y({"aria-disabled":c,"data-disabled":c?"":void 0},v,{ref:w,onPointerDown:R(v.onPointerDown,()=>{c||(F.current=g)}),min:r,max:s,inverted:x,onSlideStart:c?void 0:le,onSlideMove:c?void 0:de,onSlideEnd:c?void 0:fe,onHomeKeyDown:()=>!c&&K(r,0,{commit:!0}),onEndKeyDown:()=>!c&&K(s,g.length-1,{commit:!0}),onStepKeyDown:({event:m,direction:h})=>{if(!c){const z=Z.includes(m.key)||m.shiftKey&&ee.includes(m.key)?10:1,V=f.current,P=g[V],_=o*z*h;K(P+_,V,{commit:!0})}}})))),M&&g.map((m,h)=>a.createElement(Me,{key:h,name:n?n+(g.length>1?"[]":""):void 0,value:m})))}),[oe,re]=ne(T,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Ee=a.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:o,onSlideStart:l,onSlideMove:c,onSlideEnd:u,onStepKeyDown:$,...S}=e,[i,d]=a.useState(null),x=C(t,f=>d(f)),v=a.useRef(),p=$e(s),b=p==="ltr",w=b&&!o||!b&&o;function D(f){const E=v.current||i.getBoundingClientRect(),M=[0,E.width],g=j(M,w?[n,r]:[r,n]);return v.current=E,g(f-E.left)}return a.createElement(oe,{scope:e.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width"},a.createElement(ae,y({dir:p,"data-orientation":"horizontal"},S,{ref:x,style:{...S.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:f=>{const E=D(f.clientX);l==null||l(E)},onSlideMove:f=>{const E=D(f.clientX);c==null||c(E)},onSlideEnd:()=>{v.current=void 0,u==null||u()},onStepKeyDown:f=>{const M=te[w?"from-left":"from-right"].includes(f.key);$==null||$({event:f,direction:M?-1:1})}})))}),ye=a.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:u,...$}=e,S=a.useRef(null),i=C(t,S),d=a.useRef(),x=!s;function v(p){const b=d.current||S.current.getBoundingClientRect(),w=[0,b.height],f=j(w,x?[r,n]:[n,r]);return d.current=b,f(p-b.top)}return a.createElement(oe,{scope:e.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1},a.createElement(ae,y({"data-orientation":"vertical"},$,{ref:i,style:{...$.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:p=>{const b=v(p.clientY);o==null||o(b)},onSlideMove:p=>{const b=v(p.clientY);l==null||l(b)},onSlideEnd:()=>{d.current=void 0,c==null||c()},onStepKeyDown:p=>{const w=te[x?"from-bottom":"from-top"].includes(p.key);u==null||u({event:p,direction:w?-1:1})}})))}),ae=a.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:c,onStepKeyDown:u,...$}=e,S=N(T,n);return a.createElement(k.span,y({},$,{ref:t,onKeyDown:R(e.onKeyDown,i=>{i.key==="Home"?(l(i),i.preventDefault()):i.key==="End"?(c(i),i.preventDefault()):Z.concat(ee).includes(i.key)&&(u(i),i.preventDefault())}),onPointerDown:R(e.onPointerDown,i=>{const d=i.target;d.setPointerCapture(i.pointerId),i.preventDefault(),S.thumbs.has(d)?d.focus():r(i)}),onPointerMove:R(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&s(i)}),onPointerUp:R(e.onPointerUp,i=>{const d=i.target;d.hasPointerCapture(i.pointerId)&&(d.releasePointerCapture(i.pointerId),o(i))})}))}),_e="SliderTrack",De=a.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=N(_e,n);return a.createElement(k.span,y({"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation},r,{ref:t}))}),X="SliderRange",Pe=a.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=N(X,n),o=re(X,n),l=a.useRef(null),c=C(t,l),u=s.values.length,$=s.values.map(d=>ie(d,s.min,s.max)),S=u>1?Math.min(...$):0,i=100-Math.max(...$);return a.createElement(k.span,y({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},r,{ref:c,style:{...e.style,[o.startEdge]:S+"%",[o.endEdge]:i+"%"}}))}),G="SliderThumb",Re=a.forwardRef((e,t)=>{const n=ge(e.__scopeSlider),[r,s]=a.useState(null),o=C(t,c=>s(c)),l=a.useMemo(()=>r?n().findIndex(c=>c.ref.current===r):-1,[n,r]);return a.createElement(Ce,y({},e,{ref:o,index:l}))}),Ce=a.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,...s}=e,o=N(G,n),l=re(G,n),[c,u]=a.useState(null),$=C(t,b=>u(b)),S=Se(c),i=o.values[r],d=i===void 0?0:ie(i,o.min,o.max),x=Ve(r,o.values.length),v=S==null?void 0:S[l.size],p=v?Ae(v,d,l.direction):0;return a.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),a.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${d}% + ${p}px)`}},a.createElement(H.ItemSlot,{scope:e.__scopeSlider},a.createElement(k.span,y({role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":i,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0},s,{ref:$,style:i===void 0?{display:"none"}:e.style,onFocus:R(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})}))))}),Me=e=>{const{value:t,...n}=e,r=a.useRef(null),s=pe(t);return a.useEffect(()=>{const o=r.current,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==t&&u){const $=new Event("input",{bubbles:!0});u.call(o,t),o.dispatchEvent($)}},[s,t]),a.createElement("input",y({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function Ke(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,o)=>s-o)}function ie(e,t,n){const o=100/(n-t)*(e-t);return Q(o,[0,100])}function Ve(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ie(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function Ae(e,t,n){const r=e/2,o=j([0,50],[0,r]);return(r-o(t)*n)*n}function Te(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function Be(e,t){if(t>0){const n=Te(e);return Math.min(...n)>=t}return!0}function j(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function ke(e){return(String(e).split(".")[1]||"").length}function Ne(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const se=we,Oe=De,ze=Pe,He=Re,O=a.forwardRef(({className:e,...t},n)=>I.jsxs(se,{ref:n,className:ve("relative flex w-full touch-none select-none items-center",e),...t,children:[I.jsx(Oe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:I.jsx(ze,{className:"absolute h-full bg-primary"})}),I.jsx(He,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));O.displayName=se.displayName;O.__docgenInfo={description:"",methods:[]};const je={title:"Components/Slider",component:O,parameters:{layout:"centered"}},A={render:()=>I.jsx(O,{className:"w-48",defaultValue:[33],max:100,step:1})};var W,q,J;A.parameters={...A.parameters,docs:{...(W=A.parameters)==null?void 0:W.docs,source:{originalSource:`{
  render: () => <Slider className='w-48' defaultValue={[33]} max={100} step={1} />
}`,...(J=(q=A.parameters)==null?void 0:q.docs)==null?void 0:J.source}}};const Le=["Default"],rt=Object.freeze(Object.defineProperty({__proto__:null,Default:A,__namedExportsOrder:Le,default:je},Symbol.toStringTag,{value:"Module"}));export{rt as C,A as D};
