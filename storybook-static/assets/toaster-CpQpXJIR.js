import{j as T}from"./jsx-runtime-gfuiFmrk.js";import{r}from"./index-B3ehnkiM.js";import{$ as pe,_}from"./index-BtW3vQL8.js";import{r as Ae}from"./index-DeIys0fC.js";import{$ as h}from"./index-CcyUcsxs.js";import{$ as De}from"./index-CUKvRgbG.js";import{$ as Ne}from"./index-gzTY19Q4.js";import{a as Oe,b as Fe}from"./index-CzXEFAbz.js";import{$ as Me}from"./index-XB13z7cY.js";import{$ as Le}from"./index-DK5DHDD6.js";import{$ as N,a as ke}from"./index-C10IWUuP.js";import{$ as Y}from"./index-BkVs4Xdz.js";import{$ as Ve}from"./index-DD6JRj2r.js";import{$ as Ke}from"./index-CiqPuP9r.js";import{$ as fe}from"./index-BOacIOqm.js";import{c as je}from"./index-DrPcCT0w.js";import{a as O}from"./utils-DJk2kaG7.js";import{X as We}from"./x-C5DrP9gb.js";const He=1,Ue=1e6;let Q=0;function Xe(){return Q=(Q+1)%Number.MAX_SAFE_INTEGER,Q.toString()}const J=new Map,de=e=>{if(J.has(e))return;const t=setTimeout(()=>{J.delete(e),V({type:"REMOVE_TOAST",toastId:e})},Ue);J.set(e,t)},Ye=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,He)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case"DISMISS_TOAST":{const{toastId:o}=t;return o?de(o):e.toasts.forEach(s=>{de(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===o||o===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)}}},U=[];let X={toasts:[]};function V(e){X=Ye(X,e),U.forEach(t=>{t(X)})}function Be({...e}){const t=Xe(),o=i=>V({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>V({type:"DISMISS_TOAST",toastId:t});return V({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:o}}function qe(){const[e,t]=r.useState(X);return r.useEffect(()=>(U.push(t),()=>{const o=U.indexOf(t);o>-1&&U.splice(o,1)}),[e]),{...e,toast:Be,dismiss:o=>V({type:"DISMISS_TOAST",toastId:o})}}const me="ToastProvider",[oe,ze,Ge]=De("Toast"),[be,Vt]=Ne("Toast",[Ge]),[Qe,B]=be(me),$e=e=>{const{__scopeToast:t,label:o="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:d=50,children:p}=e,[f,m]=r.useState(null),[a,y]=r.useState(0),E=r.useRef(!1),F=r.useRef(!1);return r.createElement(oe.Provider,{scope:t},r.createElement(Qe,{scope:t,label:o,duration:s,swipeDirection:i,swipeThreshold:d,toastCount:a,viewport:f,onViewportChange:m,onToastAdd:r.useCallback(()=>y(R=>R+1),[]),onToastRemove:r.useCallback(()=>y(R=>R-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:F},p))};$e.propTypes={label(e){if(e.label&&typeof e.label=="string"&&!e.label.trim()){const t=`Invalid prop \`label\` supplied to \`${me}\`. Expected non-empty \`string\`.`;return new Error(t)}return null}};const Je="ToastViewport",Ze=["F8"],ee="toast.viewportPause",te="toast.viewportResume",et=r.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:s=Ze,label:i="Notifications ({hotkey})",...d}=e,p=B(Je,o),f=ze(o),m=r.useRef(null),a=r.useRef(null),y=r.useRef(null),E=r.useRef(null),F=pe(t,E,p.onViewportChange),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),P=p.toastCount>0;r.useEffect(()=>{const c=x=>{var l;s.every($=>x[$]||x.code===$)&&((l=E.current)===null||l===void 0||l.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[s]),r.useEffect(()=>{const c=m.current,x=E.current;if(P&&c&&x){const l=()=>{if(!p.isClosePausedRef.current){const w=new CustomEvent(ee);x.dispatchEvent(w),p.isClosePausedRef.current=!0}},b=()=>{if(p.isClosePausedRef.current){const w=new CustomEvent(te);x.dispatchEvent(w),p.isClosePausedRef.current=!1}},$=w=>{!c.contains(w.relatedTarget)&&b()},v=()=>{c.contains(document.activeElement)||b()};return c.addEventListener("focusin",l),c.addEventListener("focusout",$),c.addEventListener("pointermove",l),c.addEventListener("pointerleave",v),window.addEventListener("blur",l),window.addEventListener("focus",b),()=>{c.removeEventListener("focusin",l),c.removeEventListener("focusout",$),c.removeEventListener("pointermove",l),c.removeEventListener("pointerleave",v),window.removeEventListener("blur",l),window.removeEventListener("focus",b)}}},[P,p.isClosePausedRef]);const u=r.useCallback(({tabbingDirection:c})=>{const l=f().map(b=>{const $=b.ref.current,v=[$,...$t($)];return c==="forwards"?v:v.reverse()});return(c==="forwards"?l.reverse():l).flat()},[f]);return r.useEffect(()=>{const c=E.current;if(c){const x=l=>{const b=l.altKey||l.ctrlKey||l.metaKey;if(l.key==="Tab"&&!b){const M=document.activeElement,A=l.shiftKey;if(l.target===c&&A){var v;(v=a.current)===null||v===void 0||v.focus();return}const I=u({tabbingDirection:A?"backwards":"forwards"}),K=I.findIndex(n=>n===M);if(Z(I.slice(K+1)))l.preventDefault();else{var w,S;A?(w=a.current)===null||w===void 0||w.focus():(S=y.current)===null||S===void 0||S.focus()}}};return c.addEventListener("keydown",x),()=>c.removeEventListener("keydown",x)}},[f,u]),r.createElement(Oe,{ref:m,role:"region","aria-label":i.replace("{hotkey}",R),tabIndex:-1,style:{pointerEvents:P?void 0:"none"}},P&&r.createElement(ue,{ref:a,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"forwards"});Z(c)}}),r.createElement(oe.Slot,{scope:o},r.createElement(N.ol,_({tabIndex:-1},d,{ref:F}))),P&&r.createElement(ue,{ref:y,onFocusFromOutsideViewport:()=>{const c=u({tabbingDirection:"backwards"});Z(c)}}))}),tt="ToastFocusProxy",ue=r.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:s,...i}=e,d=B(tt,o);return r.createElement(fe,_({"aria-hidden":!0,tabIndex:0},i,{ref:t,style:{position:"fixed"},onFocus:p=>{var f;const m=p.relatedTarget;!((f=d.viewport)!==null&&f!==void 0&&f.contains(m))&&s()}}))}),q="Toast",ot="toast.swipeStart",rt="toast.swipeMove",st="toast.swipeCancel",nt="toast.swipeEnd",at=r.forwardRef((e,t)=>{const{forceMount:o,open:s,defaultOpen:i,onOpenChange:d,...p}=e,[f=!0,m]=Ve({prop:s,defaultProp:i,onChange:d});return r.createElement(Le,{present:o||f},r.createElement(ve,_({open:f},p,{ref:t,onClose:()=>m(!1),onPause:Y(e.onPause),onResume:Y(e.onResume),onSwipeStart:h(e.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:h(e.onSwipeMove,a=>{const{x:y,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${y}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:h(e.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:h(e.onSwipeEnd,a=>{const{x:y,y:E}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${y}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),m(!1)})})))}),[ct,it]=be(q,{onClose(){}}),ve=r.forwardRef((e,t)=>{const{__scopeToast:o,type:s="foreground",duration:i,open:d,onClose:p,onEscapeKeyDown:f,onPause:m,onResume:a,onSwipeStart:y,onSwipeMove:E,onSwipeCancel:F,onSwipeEnd:R,...P}=e,u=B(q,o),[c,x]=r.useState(null),l=pe(t,n=>x(n)),b=r.useRef(null),$=r.useRef(null),v=i||u.duration,w=r.useRef(0),S=r.useRef(v),M=r.useRef(0),{onToastAdd:A,onToastRemove:z}=u,D=Y(()=>{var n;(c==null?void 0:c.contains(document.activeElement))&&((n=u.viewport)===null||n===void 0||n.focus()),p()}),I=r.useCallback(n=>{!n||n===1/0||(window.clearTimeout(M.current),w.current=new Date().getTime(),M.current=window.setTimeout(D,n))},[D]);r.useEffect(()=>{const n=u.viewport;if(n){const g=()=>{I(S.current),a==null||a()},C=()=>{const L=new Date().getTime()-w.current;S.current=S.current-L,window.clearTimeout(M.current),m==null||m()};return n.addEventListener(ee,C),n.addEventListener(te,g),()=>{n.removeEventListener(ee,C),n.removeEventListener(te,g)}}},[u.viewport,v,m,a,I]),r.useEffect(()=>{d&&!u.isClosePausedRef.current&&I(v)},[d,v,u.isClosePausedRef,I]),r.useEffect(()=>(A(),()=>z()),[A,z]);const K=r.useMemo(()=>c?xe(c):null,[c]);return u.viewport?r.createElement(r.Fragment,null,K&&r.createElement(dt,{__scopeToast:o,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0},K),r.createElement(ct,{scope:o,onClose:D},Ae.createPortal(r.createElement(oe.ItemSlot,{scope:o},r.createElement(Fe,{asChild:!0,onEscapeKeyDown:h(f,()=>{u.isFocusedToastEscapeKeyDownRef.current||D(),u.isFocusedToastEscapeKeyDownRef.current=!1})},r.createElement(N.li,_({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":u.swipeDirection},P,{ref:l,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:h(e.onKeyDown,n=>{n.key==="Escape"&&(f==null||f(n.nativeEvent),n.nativeEvent.defaultPrevented||(u.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:h(e.onPointerDown,n=>{n.button===0&&(b.current={x:n.clientX,y:n.clientY})}),onPointerMove:h(e.onPointerMove,n=>{if(!b.current)return;const g=n.clientX-b.current.x,C=n.clientY-b.current.y,L=!!$.current,k=["left","right"].includes(u.swipeDirection),j=["left","up"].includes(u.swipeDirection)?Math.min:Math.max,Pe=k?j(0,g):0,Ie=k?0:j(0,C),G=n.pointerType==="touch"?10:2,W={x:Pe,y:Ie},ie={originalEvent:n,delta:W};L?($.current=W,H(rt,E,ie,{discrete:!1})):le(W,u.swipeDirection,G)?($.current=W,H(ot,y,ie,{discrete:!1}),n.target.setPointerCapture(n.pointerId)):(Math.abs(g)>G||Math.abs(C)>G)&&(b.current=null)}),onPointerUp:h(e.onPointerUp,n=>{const g=$.current,C=n.target;if(C.hasPointerCapture(n.pointerId)&&C.releasePointerCapture(n.pointerId),$.current=null,b.current=null,g){const L=n.currentTarget,k={originalEvent:n,delta:g};le(g,u.swipeDirection,u.swipeThreshold)?H(nt,R,k,{discrete:!0}):H(st,F,k,{discrete:!0}),L.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})))),u.viewport))):null});ve.propTypes={type(e){if(e.type&&!["foreground","background"].includes(e.type)){const t=`Invalid prop \`type\` supplied to \`${q}\`. Expected \`foreground | background\`.`;return new Error(t)}return null}};const dt=e=>{const{__scopeToast:t,children:o,...s}=e,i=B(q,t),[d,p]=r.useState(!1),[f,m]=r.useState(!1);return mt(()=>p(!0)),r.useEffect(()=>{const a=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(a)},[]),f?null:r.createElement(Me,{asChild:!0},r.createElement(fe,s,d&&r.createElement(r.Fragment,null,i.label," ",o)))},ut=r.forwardRef((e,t)=>{const{__scopeToast:o,...s}=e;return r.createElement(N.div,_({},s,{ref:t}))}),lt=r.forwardRef((e,t)=>{const{__scopeToast:o,...s}=e;return r.createElement(N.div,_({},s,{ref:t}))}),pt="ToastAction",Te=r.forwardRef((e,t)=>{const{altText:o,...s}=e;return o?r.createElement(Ee,{altText:o,asChild:!0},r.createElement(we,_({},s,{ref:t}))):null});Te.propTypes={altText(e){return e.altText?null:new Error(`Missing prop \`altText\` expected on \`${pt}\``)}};const ft="ToastClose",we=r.forwardRef((e,t)=>{const{__scopeToast:o,...s}=e,i=it(ft,o);return r.createElement(Ee,{asChild:!0},r.createElement(N.button,_({type:"button"},s,{ref:t,onClick:h(e.onClick,i.onClose)})))}),Ee=r.forwardRef((e,t)=>{const{__scopeToast:o,altText:s,...i}=e;return r.createElement(N.div,_({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0},i,{ref:t}))});function xe(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),bt(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",d=s.dataset.radixToastAnnounceExclude==="";if(!i)if(d){const p=s.dataset.radixToastAnnounceAlt;p&&t.push(p)}else t.push(...xe(s))}}),t}function H(e,t,o,{discrete:s}){const i=o.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&i.addEventListener(e,t,{once:!0}),s?ke(i,d):i.dispatchEvent(d)}const le=(e,t,o=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),d=s>i;return t==="left"||t==="right"?d&&s>o:!d&&i>o};function mt(e=()=>{}){const t=Y(e);Ke(()=>{let o=0,s=0;return o=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(s)}},[t])}function bt(e){return e.nodeType===e.ELEMENT_NODE}function $t(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function Z(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}const vt=$e,ye=et,ge=at,he=ut,_e=lt,Se=Te,Ce=we,Tt=vt,re=r.forwardRef(({className:e,...t},o)=>T.jsx(ye,{ref:o,className:O("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));re.displayName=ye.displayName;const wt=je("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),se=r.forwardRef(({className:e,variant:t,...o},s)=>T.jsx(ge,{ref:s,className:O(wt({variant:t}),e),...o}));se.displayName=ge.displayName;const Re=r.forwardRef(({className:e,...t},o)=>T.jsx(Se,{ref:o,className:O("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));Re.displayName=Se.displayName;const ne=r.forwardRef(({className:e,...t},o)=>T.jsx(Ce,{ref:o,className:O("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:T.jsx(We,{className:"h-4 w-4"})}));ne.displayName=Ce.displayName;const ae=r.forwardRef(({className:e,...t},o)=>T.jsx(he,{ref:o,className:O("text-sm font-semibold",e),...t}));ae.displayName=he.displayName;const ce=r.forwardRef(({className:e,...t},o)=>T.jsx(_e,{ref:o,className:O("text-sm opacity-90",e),...t}));ce.displayName=_e.displayName;re.__docgenInfo={description:"",methods:[]};se.__docgenInfo={description:"",methods:[]};ae.__docgenInfo={description:"",methods:[]};ce.__docgenInfo={description:"",methods:[]};ne.__docgenInfo={description:"",methods:[]};Re.__docgenInfo={description:"",methods:[]};function Et(){const{toasts:e}=qe();return T.jsxs(Tt,{children:[e.map(function({id:t,title:o,description:s,action:i,...d}){return T.jsxs(se,{...d,children:[T.jsxs("div",{className:"grid gap-1",children:[o&&T.jsx(ae,{children:o}),s&&T.jsx(ce,{children:s})]}),i,T.jsx(ne,{})]},t)}),T.jsx(re,{})]})}Et.__docgenInfo={description:"",methods:[],displayName:"Toaster"};export{Et as T,Re as a,Be as t,qe as u};
